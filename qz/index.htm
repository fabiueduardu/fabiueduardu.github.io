
<!doctype html>
<html lang="en" ng-app="uiApp">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="quize">
    <meta name="author" content="JSpank">
    <title>JSpank</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">  </head>
       
<style>.linethrough{ 
        text-decoration:line-through;
        color:#ccc;
     }
        </style>
    <body>
    <div  ng-controller="appController" ng-cloak>

    <header>
      <div class="collapse bg-dark" id="navbarHeader">
        <div class="container">
          <div class="row">
            <div class="col-sm-8 col-md-7 py-4">
              <h4 class="text-white">About</h4>
              <p class="text-muted">Aliquam quis libero id turpis mattis elementum.</p>
            </div>
            <div class="col-sm-4 offset-md-1 py-4">
              <h4 class="text-white">Contact</h4>
              <ul class="list-unstyled">
                <li><a href="https://twitter.com/fabiueduardu" class="text-white" target=_blank>Twitter</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="navbar navbar-dark bg-dark box-shadow">
        <div class="container d-flex justify-content-between">
          <a href="." class="navbar-brand d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path><circle cx="12" cy="13" r="4"></circle></svg>
            <strong>JSpank</strong>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </div>
    </header>

    <main role="main">

      <section class="jumbotron">
        <div class="container">
            <ul class="list-group" ng-repeat="item in itens track by $index">
                <li class="list-group-item" data-code="{{item}}"> 
                    <a  ng-class="{'linethrough':hasAdd(item)}" href="quizeapp://cod/{{item}}" target="_blank" ng-click="remove(item)">{{$index}}: {{item}}</a></li>
              </ul>
         </div>
      </section>

    </main>

 
    <footer class="text-muted"> 
      <div class="container">
            <hr>
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
        <i>â“‡2018, JSpank</i>
     </div>
    </footer>
</div>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.2/angular.min.js"></script>
    <script>
        var loadStorageKey = 'qzItens';
        var app =  angular.module('uiApp', []);

       
        app.config(['$compileProvider',
            function( $compileProvider )
            {   
                $compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|chrome-extension|quizeapp):/);
             }
        ]);

            app.controller('appController', function( $scope) {
                var itens = []

               var hashValue = location.hash;
               if(hashValue){
                 $(hashValue.substring(1).split(';')).each(function(i, value){
                  itens.push(value.toUpperCase());
                 });
               }

                 itens.push('3SHA48');
                itens.push('HRSB36');
                itens.push('TWR344');
                itens.push('BTYDA495');
                itens.push('CGG345');
                itens.push('DQJJK394');
                itens.push('P7WQ85');
                itens.push('9EYB49');
                itens.push('PY7TD537');
                itens.push('JPE884');
                itens.push('XD5E89');
                itens.push('WSMM64');
                itens.push('W73N89');
                itens.push('QWEBK743');
                itens.push('9WD9D374');
                itens.push('RRK365');
                itens.push('JWJD46');
                itens.push('FK7SJ644');
                itens.push('RT499485');
                itens.push('XDYX5749');
                itens.push('FK7SJ644');
                itens.push('PY7TD537');
                itens.push('S7E457');
                itens.push('YNWQ43');
                itens.push('T6XR47');
                itens.push('Y9KMA746');	
                itens.push('F3NFT577');
                itens.push('CKBKS965');
                itens.push('4QFC95');
                itens.push('655K8563');
                itens.push('9P7F4344');
                itens.push('MD993673');
                itens.push('SQCBJ758');
                itens.push('NCKFF955');
                itens.push('NCSS46');
                itens.push('Q5B658');
                itens.push('BPP648');
                itens.push('6PKDN558');
                itens.push('QQDRW467');
                itens.push('9T4RP355');
                itens.push('5HMCG343');
                itens.push('R6JKD588');
                itens.push('5HMCG343');
                itens.push('XJ3R48');
                itens.push('XJ3R48');
                itens.push('6FG648');
                itens.push('RX6793');
                itens.push('5839H368');
                itens.push('Y6MYC884');
                itens.push('MRHSX967');
                itens.push('EYNP74');
                itens.push('G9EB63');
                itens.push('K9AJ95');
                itens.push('Y9KMA746');
                itens.push('4QFC95'); 

                $scope.itens = itens; 
                $scope.remove = function(value){
                    $('[data-code="'+value+'"]').remove();
                    localStorageItem.add(value);
                }

                $scope.hasAdd = function(value){
                  return localStorageItem.has(value);
                }

                var  localStorageItem = {
                    has:function(value){
                        var localStorageValue = localStorage.getItem(loadStorageKey)||'';       
                        return localStorageValue.indexOf(value)!=-1;
                    },add:function(value){
                        var localStorageValue = localStorage.getItem(loadStorageKey)||'';      
                        localStorageValue+=';'+value; 
                        localStorage.setItem(loadStorageKey,localStorageValue);
                    }
                }

              $scope.tryAll = function(){
                   $(itens).each(function(i, item){ 
                    var appUrl = 'quizeapp://cod/'+item;
                    console.log('try: '+appUrl);
                    try{

                        $.ajax({
                            url: appUrl,
                                type: 'GET',
                                success: function(data){ 
                                    $('[data-code="'+item+'"]').remove();
                                },
                                error: function(data) {
                                     throw data;
                                }
                            }); 
              
                       }catch(error){
                        console.log('error: ');
                        console.log(error);
                       }
                    });
                }
                
            });
    </script>
  </body>
</html>
   <!-- Global site tag (gtag.js) - Google Analytics -->
   <script async src="https://www.googletagmanager.com/gtag/js?id=UA-76968512-2"></script>
   <script>
       window.dataLayer = window.dataLayer || [];
       function gtag() { dataLayer.push(arguments); }
       gtag('js', new Date());

       gtag('config', 'UA-76968512-2');
   </script>